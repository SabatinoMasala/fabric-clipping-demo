webpackJsonp([1],{"05jh":function(t,e,i){"use strict";var n=i("woOf"),a=i.n(n),o=i("7t+N"),s=i.n(o);e.a={handleEvent:function(t,e){if(0!==t.target.files.length){var i=t.target.files[0],n=new FileReader;n.onload=function(t){var i=t.target.result;fabric.Image.fromURL(i,function(t){var i=0,n=null,o={left:0,top:0,originX:"left",originY:"top",angle:0},s={};t.width>t.height?(i=t.width/t.height,s=a()(o,{width:1,height:1/i})):(i=t.height/t.width,s=a()(o,{width:1/i,height:1})),n=t.set(s),e(n)})},n.readAsDataURL(i),s()(t.currentTarget).val("")}}}},"7iRb":function(t,e){},"8ZN9":function(t,e){},HQ6e:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("a",{staticClass:"github-corner",attrs:{target:"_blank",href:t.url,"aria-label":"View source on Github"}},[i("svg",{staticStyle:{fill:"#151513",color:"#fff",position:"absolute",top:"0",border:"0",right:"0"},attrs:{width:"80",height:"80",viewBox:"0 0 250 250","aria-hidden":"true"}},[i("path",{attrs:{d:"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"}}),i("path",{staticClass:"octo-arm",staticStyle:{"transform-origin":"130px 106px"},attrs:{d:"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2",fill:"currentColor"}}),i("path",{staticClass:"octo-body",attrs:{d:"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z",fill:"currentColor"}})])])},a=[],o={render:n,staticRenderFns:a};e.a=o},M93x:function(t,e,i){"use strict";function n(t){i("7iRb")}var a=i("xJD8"),o=i("lyur"),s=i("VU/8"),c=n,r=s(a.a,o.a,!1,c,null,null);e.a=r.exports},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("/5sW"),a=i("M93x");n.a.config.productionTip=!1,new n.a({el:"#app",render:function(t){return t(a.a)}})},f384:function(t,e){fabric.Canvas.prototype.toggleDragMode=function(t){var e=this,i=void 0,n=void 0,a="idle";t?(this.discardActiveObject(),this.defaultCursor="move",this.forEachObject(function(t){t.prevEvented=t.evented,t.prevSelectable=t.selectable,t.evented=!1,t.selectable=!1}),this.selection=!1,this.on("mouse:up",function(t){a="idle"}),this.on("mouse:down",function(t){a="panning",i=t.e.clientX,n=t.e.clientY}),this.on("mouse:move",function(t){if("panning"===a&&t&&t.e){var o=0,s=0;i&&(o=t.e.clientX-i),n&&(s=t.e.clientY-n),i=t.e.clientX,n=t.e.clientY;var c=new fabric.Point(o,s);e.relativePan(c),e.trigger("moved")}})):(this.forEachObject(function(t){t.evented=void 0!==t.prevEvented?t.prevEvented:t.evented,t.selectable=void 0!==t.prevSelectable?t.prevSelectable:t.selectable}),this.defaultCursor="default",this.off("mouse:up"),this.off("mouse:down"),this.off("mouse:move"),this.selection=!1)}},lyur:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("GithubCorner",{attrs:{url:"https://github.com/SabatinoMasala/fabric-clipping-demo"}}),t._v(" "),i("div",{staticClass:"text-center",attrs:{id:"toolbar"}},[i("button",{on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.zoomIn(e)}}},[t._v("Zoom in")]),t._v(" "),i("button",{on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.zoomOut(e)}}},[t._v("Zoom out")]),t._v(" "),i("div",{staticClass:"spacer"},[t._v(" ")]),t._v(" "),t.dragMode?i("button",{on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.dragMode=!1}}},[t._v("Stop panning")]):i("button",{on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.dragMode=!0}}},[t._v("Start panning")]),t._v(" "),i("div",{staticClass:"spacer"},[t._v(" ")]),t._v(" "),i("button",{on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.reset()}}},[t._v("Reset pan & zoom")]),t._v(" "),t.activeObject?i("div",{staticClass:"spacer"},[t._v(" ")]):t._e(),t._v(" "),t.activeObject?i("button",{staticClass:"delete",on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.removeActiveObject()}}},[t._v("Delete object")]):t._e()]),t._v(" "),i("h1",{staticClass:"text-center heading"},[t._v("Fabric.js clipping & panning demo")]),t._v(" "),i("div",{attrs:{id:"app"}},[i("div",{staticClass:"wrapper"},[i("canvas",{attrs:{id:"canvas",width:"500",height:"500"}}),t._v(" "),i("div",{staticClass:"text-center"},[t.helpMessage?i("p",{staticClass:"help"},[t._v(t._s(t.helpMessage))]):t._e()])])])],1)},a=[],o={render:n,staticRenderFns:a};e.a=o},"oo+B":function(t,e,i){"use strict";e.a={props:{url:String}}},wuSQ:function(t,e,i){"use strict";var n=i("woOf"),a=i.n(n),o=i("Zrlr"),s=i.n(o),c=i("wxAW"),r=i.n(c),l=i("7t+N"),h=i.n(l),v=i("05jh"),u=function(){function t(e){var i=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s()(this,t);var o={originX:"left",originY:"top",fill:"#FF8552",strokeWidth:0,selectable:!1,evented:!1},c=a()(o,n);this.state={hasImage:!1},this.canvas=e,this.clipRect=new fabric.Rect(c),this.clipRect.on("moving",function(t){i._positionButton()}),this.canvas.on("moved",function(t){i._positionButton()}),this.inputUpload=document.createElement("input"),this.inputUpload.type="file",document.body.append(this.inputUpload),this.btnUpload=document.createElement("button"),this.btnUpload.innerHTML="Upload",this.btnUpload.style.position="absolute",h()(".canvas-container").append(this.btnUpload),h()(this.btnUpload).click(this._onClickButtonUpload.bind(this)),h()(this.inputUpload).change(this._handleUpload.bind(this))}return r()(t,[{key:"_handleUpload",value:function(t){var e=this;v.a.handleEvent(t,function(t){e._loadImage(t)})}},{key:"_loadImage",value:function(t){var e=this,i=this;t.set({left:this.clipRect.left,top:this.clipRect.top,width:t.width*this.clipRect.width,height:t.height*this.clipRect.width,clipTo:function(t){var e=this.canvas.viewportTransform[4],n=this.canvas.viewportTransform[5];this.setCoords(),t.save(),t.setTransform(1,0,0,1,0,0),t.beginPath(),t.rect(i._zoom(i.clipRect.left)+i._multiplied(e),i._zoom(i.clipRect.top)+i._multiplied(n),i._zoom(i.clipRect.width),i._zoom(i.clipRect.height)),t.closePath(),t.restore()}}),t.on("removed",function(t){e._setState({hasImage:!1})}),this.canvas.add(t).renderAll(),this.canvas.setActiveObject(t),this._setState({hasImage:!0})}},{key:"_degToRad",value:function(t){return t*(Math.PI/180)}},{key:"_setState",value:function(t){this.state=a()(this.state,t),this.state.hasImage?h()(this.btnUpload).hide():(h()(this.btnUpload).show(),this._positionButton())}},{key:"_onClickButtonUpload",value:function(t){h()(this.inputUpload).trigger("click")}},{key:"_getDomCanvasPosition",value:function(){return h()(this.canvas.upperCanvasEl).offset()}},{key:"_multiplied",value:function(t){return fabric.window.devicePixelRatio*t}},{key:"_zoom",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t*(this.canvas.getZoom()*(e?fabric.window.devicePixelRatio:1))}},{key:"_positionButton",value:function(){var t=this._getDomCanvasPosition(),e=this.canvas.viewportTransform[4],i=this.canvas.viewportTransform[5],n={top:this._zoom(this.clipRect.top,!1),left:this._zoom(this.clipRect.left,!1),width:this._zoom(this.clipRect.width,!1),height:this._zoom(this.clipRect.height,!1)},a={width:h()(this.btnUpload).outerWidth(),height:h()(this.btnUpload).outerHeight()};h()(this.btnUpload).offset({top:n.top+n.height/2+i-a.height/2+t.top,left:n.left+n.width/2+e-a.width/2+t.left})}},{key:"render",value:function(){this.canvas.add(this.clipRect).renderAll(),this._positionButton()}}]),t}();e.a=u},xJD8:function(t,e,i){"use strict";var n=i("zNFg"),a=i("7t+N"),o=i.n(a),s=i("wuSQ"),c=i("f384");i.n(c);e.a={name:"fabric-clipping-demo",components:{GithubCorner:n.a},computed:{helpMessage:function(){return this.activeObject?"Press backspace to delete the object":!!this.dragMode&&"Drag the canvas to pan"}},methods:{removeActiveObject:function(){this.activeObject.remove(),this.canvas.renderAll()},reset:function(){this.canvas.setZoom(1),this.canvas.absolutePan(new fabric.Point(0,0)),this.dragMode=!1,this.canvas.trigger("moved")},zoomIn:function(){this.canvas.setZoom(this.canvas.getZoom()+.2),this.canvas.trigger("moved")},zoomOut:function(){this.canvas.setZoom(this.canvas.getZoom()-.2),this.canvas.trigger("moved")}},watch:{dragMode:function(){this.canvas.toggleDragMode(this.dragMode)}},mounted:function(){var t=this;this.canvas=new fabric.Canvas("canvas"),this.canvas.backgroundColor="#fff",this.canvas.on("object:selected",function(e){t.activeObject=e.target}),this.canvas.on("selection:cleared",function(e){t.activeObject=!1});for(var e=0;e<3;e++)for(var i=0;i<3;i++){var n=new s.a(this.canvas,{left:251*i,top:251*e,width:249,height:249});n.render()}o()("body").keydown(function(e){if(8===e.keyCode){var i=t.canvas.getActiveObject();i&&(i.remove(),t.canvas.renderAll())}})},data:function(){return{canvasVisible:!0,activeObject:!1,canvas:!1,dragMode:!1}}}},zNFg:function(t,e,i){"use strict";function n(t){i("8ZN9")}var a=i("oo+B"),o=i("HQ6e"),s=i("VU/8"),c=n,r=s(a.a,o.a,!1,c,"data-v-4a59b723",null);e.a=r.exports}},["NHnr"]);
//# sourceMappingURL=app.c8cd15206227c486711f.js.map